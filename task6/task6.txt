Ты вводишь в адресной строке браузера reg.ru, и через несколько секунд видишь главную страницу сайта. Опиши текстом, что происходит между этими событиями?

1. Выполняется резолвинг доменного имени reg.ru:
a) Если вкладка была открыта в браузере ранее в текущем сеансе, проверяется DNS запись, сохраненная в кэше браузера;
b) По умолчанию, приоритет при резолвинге имеет файл /etc/hosts. Если в нем нет записи для домена reg.ru, то выполняется обращение к DNS резолверам, прописанным в системе в настройках сетевого адаптера;

2. По отношению к полученному IP адресу, компьютер выполняет запрос на создание TCP соединения на 80 или 443 порт (если в браузере записано https://reg.ru):
a) Отправляется SYN запрос от клиента к серверу;
b) Возвращается SYN+ACK ответ от сервера к клиенту;
c) Клиент отправляет ACK пакет и переходит в состояние ESTABLISHED;
d) Сервер подтверждает создание TCP сессии и соединение открыто;

3. В открытом сеансе отправляется GET запрос к корню сайта (если написано https://reg.ru). Запрос имеет примерный вид:
GET / HTTP/1.1
HOST: reg.ru
accept: <типы данных, которые может обработать браузер>
cookie: <сохраненные для этого сайта куки, если они есть>
user-agent: <информация об используемом браузере>
etc...

4. Сервер, получая запрос, проверяет значение заголовка HOST и ищет созданную для него конфигурацию веб-сервера:
a) Если виртуальный конфиг для сайта с таким значением HOST есть, обработка выполняется по этой конфигурации;
b) Если такого виртуального конфига нет, обработка выполняется виртуальным конфигом по умолчанию, как если бы к серверу обращение выполнялось по IP адресу

5. Конкретно в нашей ситуации конфиг есть и веб-сервер вернет требование на выполнение перенаправления запроса на https://www.reg.ru:
HTTP/1.1 301 Moved Permanently
Server: nginx
Date: Tue, 31 May 2022 14:02:52 GMT
Content-Type: text/html
Content-Length: 178
Connection: keep-alive
Location: https://www.reg.ru/

6. После следующего обращения к www.reg.ru будет возвращена страница index.php (или любая другая, указанная на сервере в качестве индексной страницы);
7. В процессе загрузки страницы будут выполняться обращения к стилям, JS файлам, картинкам и т.д., описанным на странице index.php;
8. Браузер строит страницу, согласно html разметке, выполняет JS код.
